<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุญุฉ ุชุญูู ุงูุฅุฏุงุฑุฉ - ุฃูุธูุฉ ุงููุงุดูุฑ</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="admin.css">
    <script src="as3g/security.js"></script>

</head>

<body>
    <div class="admin-container">
        <!-- Sidebar -->
        <div class="admin-sidebar" id="adminSidebar">
            <div class="sidebar-header">
                <button class="sidebar-close-btn" id="sidebarCloseBtn"><i class="fas fa-times"></i></button>
                <h2><i class="fas fa-cogs"></i> ููุญุฉ ุงูุชุญูู</h2>
                <p id="adminUserName">ูุฑุญุจุงูุ ุงููุฏูุฑ</p>
            </div>

            <nav class="sidebar-menu">
                <button class="menu-item active" data-page="dashboard" onclick="switchTab('dashboard')">
                    <i class="fas fa-tachometer-alt"></i>
                    ุงูุฑุฆูุณูุฉ
                </button>
                <button class="menu-item" data-page="orders" onclick="switchTab('orders')">
                    <i class="fas fa-shopping-cart"></i>
                    ุงูุทูุจุงุช
                </button>
                <button class="menu-item" data-page="users" onclick="switchTab('users')">
                    <i class="fas fa-user-shield"></i>
                    ุฅุฏุงุฑุฉ ุงููุฏูุฑูู
                </button>
                <button class="menu-item" data-page="customers" onclick="switchTab('customers')">
                    <i class="fas fa-users"></i>
                    ูุงุฆูุฉ ุงูุนููุงุก
                </button>
                <button class="menu-item" data-page="support" onclick="switchTab('support')">
                    <i class="fas fa-headset"></i>
                    ุงูุฏุนู ุงูููู
                </button>


                <button class="menu-item" data-page="products" onclick="switchTab('products')">
                    <i class="fas fa-box"></i>
                    ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช
                </button>



                <button class="menu-item" data-page="reports" onclick="switchTab('reports')">
                    <i class="fas fa-chart-line"></i>
                    ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช
                </button>

                <button class="menu-item" data-page="faq" onclick="switchTab('faq')">
                    <i class="fas fa-question-circle"></i>
                    ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ
                </button>

                <button class="menu-item" data-page="settings" onclick="switchTab('settings')">
                    <i class="fas fa-cog"></i>
                    ุงูุฅุนุฏุงุฏุงุช
                </button>

                <button class="menu-item" data-page="logs" onclick="switchTab('logs')">
                    <i class="fas fa-history"></i>
                    ุณุฌูุงุช ุงููุดุงุท
                </button>

                <button class="menu-item" data-page="support_activity" onclick="switchTab('support_activity')">
                    <i class="fas fa-user-clock"></i>
                    ูุดุงุท ูุฑูู ุงูุฏุนู
                </button>

                <button class="menu-item" data-page="live_payments" onclick="switchTab('live_payments')">
                    <i class="fas fa-satellite-dish"></i>
                    ุงููุฏููุนุงุช ุงูุญูุฉ
                </button>

                <button class="menu-item" data-page="wallet_recharge" onclick="switchTab('wallet_recharge')">
                    <i class="fas fa-wallet"></i>
                    ุทูุจุงุช ุดุญู ุงูุฑุตูุฏ
                </button>
                <button class="menu-item" data-page="hardware_marketplace" onclick="switchTab('hardware_marketplace')">
                    <i class="fas fa-laptop"></i>
                    ุณูู ุงูุฃุฌูุฒุฉ ุงููุณุชุนููุฉ
                </button>

                <a href="as3g/dashboard.html" class="menu-item" data-page="as3g" style="text-decoration: none;">
                    <i class="fas fa-external-link-alt"></i>
                    ูุธุงู AS3G
                </a>
                <button class="menu-item" onclick="handleLogout()"
                    style="margin-top: 2rem; border-top: 1px solid #34495e; color: #e74c3c;">
                    <i class="fas fa-sign-out-alt"></i>
                    ุชุณุฌูู ุงูุฎุฑูุฌ
                </button>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="admin-main" id="adminMain">
            <div class="admin-header">
                <div class="header-left-side">
                    <button class="mobile-toggle" id="mobileToggle">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h1 class="admin-title" id="pageTitle">ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ</h1>
                </div>
                <div class="admin-actions">
                    <div class="global-search-wrapper">
                        <i class="fas fa-search"></i>
                        <input type="text" id="globalSearchInput" placeholder="ุจุญุซ ุดุงูู (ุทูุจุงุชุ ูุณุชุฎุฏูููุ ููุชุฌุงุช...)"
                            onkeyup="handleGlobalSearch(event)">
                        <div id="quickSearchResults" class="quick-search-dropdown"></div>
                    </div>
                    <div class="header-notification-wrapper" id="supportNotificationBell"
                        onclick="toggleNotificationDropdown(event)">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge" id="supportNotificationCount" style="display: none;">0</span>

                        <!-- Notification Dropdown -->
                        <div class="notification-dropdown" id="notificationDropdown" style="display: none;">
                            <div class="notification-header">
                                <h4>ุงูุฅุดุนุงุฑุงุช ุงูุฌุฏูุฏุฉ</h4>
                                <button onclick="markAllAsRead(event)" class="mark-all-read">ุชุญุฏูุฏ ุงููู ูููุฑูุก</button>
                            </div>
                            <div class="notification-list" id="notificationList">
                                <!-- Will be populated by JavaScript -->
                            </div>
                            <div class="notification-footer">
                                <a href="#"
                                    onclick="switchTab('support'); closeNotificationDropdown(); return false;">ุนุฑุถ ุฌููุน
                                    ุงูุชุฐุงูุฑ</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="admin-content">
                <!-- Dashboard Tab -->
                <div id="dashboardTab" class="tab-content active">
                    <div class="stats-grid" id="statsGrid">
                        <!-- Stats will be loaded here -->
                    </div>

                    <h3>ุขุฎุฑ ุงูุฃูุดุทุฉ</h3>
                    <div id="recentActivities">
                        <!-- Recent activities will be loaded here -->
                    </div>
                </div>

                <!-- Orders Tab -->
                <div id="ordersTab" class="tab-content">
                    <div class="tab-header-modern">
                        <div class="header-main">
                            <h2>ุฅุฏุงุฑุฉ ุงูุทูุจุงุช</h2>
                            <p>ุฅุฏุงุฑุฉ ุทูุจุงุช ุงูุงุดุชุฑุงูุงุช ูุงูุฎุฏูุงุช</p>
                        </div>
                    </div>

                    <div class="filter-toolbar-modern">
                        <div class="search-box-modern">
                            <i class="fas fa-search"></i>
                            <input type="text" id="orderSearchInput" placeholder="ุจุญุซ ุนู ุนููู ุฃู ูุธุงู..."
                                onkeyup="searchOrders()">
                        </div>
                        <div class="filter-actions">
                            <select id="orderStatusFilter" onchange="filterOrders()" class="filter-select-modern">
                                <option value="all">ูู ุงูุญุงูุงุช</option>
                                <option value="pending">ููุฏ ุงูุงูุชุธุงุฑ</option>
                                <option value="pending_payment">ูู ุงูุชุธุงุฑ ุงูุฏูุน</option>
                                <option value="processing">ููุฏ ุงููุนุงูุฌุฉ</option>
                                <option value="approved">ุชู ุงููุจูู</option>
                                <option value="completed">ููุชูู</option>
                                <option value="rejected">ูุฑููุถ</option>
                            </select>
                            <button class="btn-refresh-modern" onclick="loadOrders()">
                                <i class="fas fa-sync-alt"></i>
                                ุชุญุฏูุซ
                            </button>
                        </div>
                    </div>

                    <div class="data-card-modern"
                        style="background: transparent; box-shadow: none; border: none; padding: 0;">
                        <div id="ordersGrid" class="domain-requests-grid">
                            <!-- ุณูุชู ุชุนุจุฆุฉ ุงูุจุทุงูุงุช ุจูุงุณุทุฉ JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Users Tab (Admins Only) -->
                <div id="usersTab" class="tab-content">
                    <div class="tab-header-modern">
                        <div class="header-info">
                            <h2>ุฅุฏุงุฑุฉ ุงููุฏูุฑูู ูุงููุดุฑููู</h2>
                            <p>ุงูุชุญูู ูู ุตูุงุญูุงุช ุงููุตูู ูููุธุงู</p>
                        </div>
                        <button class="btn-add-premium" onclick="showAddAccountModal()">
                            <i class="fas fa-plus"></i>
                            ุฅุถุงูุฉ ูุฏูุฑ ุฌุฏูุฏ
                        </button>
                    </div>


                    <!-- Users Tab Filter -->
                    <div class="filter-toolbar-modern">
                        <div class="search-box-modern">
                            <i class="fas fa-search"></i>
                            <input type="text" id="userSearchInput" placeholder="ุงูุจุญุซ ุจุงูุงุณู ุฃู ุงูุจุฑูุฏ..."
                                onkeyup="searchUsers()">
                        </div>
                        <div class="filter-actions">
                            <select id="userRoleFilter" onchange="filterUsers()" class="filter-select-modern">
                                <option value="">ุฌููุน ุงููุณุคูููู</option>
                                <option value="support">ุฏุนู ููู</option>
                                <option value="admin">ูุฏูุฑ</option>
                                <option value="super_admin">ูุฏูุฑ ุนุงู</option>
                            </select>
                        </div>
                    </div>

                    <div id="adminsGrid" class="search-grid">
                        <!-- Admin cards will be loaded here -->
                    </div>
                </div>

                <!-- Customers Tab (Regular Users) -->
                <div id="customersTab" class="tab-content">
                    <div class="tab-header-modern">
                        <div class="header-info">
                            <h2>ูุงุฆูุฉ ุงูุนููุงุก ุงููุณุฌููู</h2>
                            <p>ุฅุฏุงุฑุฉ ุจูุงูุงุช ูููุชุฌุงุช ุงููุณุชุฎุฏููู ุงูุนุงุฏููู</p>
                        </div>
                        <button class="btn-add-premium" onclick="showAddAccountModal('customer')">
                            <i class="fas fa-user-plus"></i>
                            ุฅุถุงูุฉ ุนููู ุฌุฏูุฏ
                        </button>
                    </div>

                    <!-- Customer Stats Grid -->
                    <div id="customerStatsGrid" class="stats-grid-modern" style="display: none;">
                        <!-- Injected by JS -->
                    </div>

                    <!-- Advanced Filters -->
                    <div class="filter-toolbar-modern">
                        <div class="search-box-modern">
                            <i class="fas fa-search"></i>
                            <input type="text" id="customerSearchInput"
                                placeholder="ุงูุจุญุซ ุจุงุณู ุงูุนูููุ ุจุฑูุฏูุ ุฃู ูุดุงุทู..." onkeyup="searchCustomers()">
                        </div>

                        <div class="filter-tabs-container" id="customerFilterTabs">
                            <button class="filter-tab active" onclick="filterCustomersByTab('all')">ุงููู</button>
                            <button class="filter-tab" onclick="filterCustomersByTab('active')">ูุดุท</button>
                            <button class="filter-tab" onclick="filterCustomersByTab('blocked')">ูุญุธูุฑ</button>
                            <button class="filter-tab" onclick="filterCustomersByTab('vip')">๐ ุงูุฃูุซุฑ ุฅููุงูุงู</button>
                        </div>
                    </div>

                    <div id="customersTableArea">
                        <!-- Customers list will be loaded here -->
                    </div>
                </div>

                <!-- Support Tab -->
                <div id="supportTab" class="tab-content">
                    <div class="filter-toolbar-modern">
                        <div class="filter-actions" style="width: 100%; display: flex; gap: 1rem;">
                            <select id="ticketStatusFilter" onchange="filterTickets()" class="filter-select-modern"
                                style="flex: 1;">
                                <option value="">ุญุงูุฉ ุงูุชุฐูุฑุฉ (ุงููู)</option>
                                <option value="open">ููุชูุญุฉ</option>
                                <option value="in-progress">ููุฏ ุงููุนุงูุฌุฉ</option>
                                <option value="resolved">ุชู ุงูุญู</option>
                                <option value="closed">ูุบููุฉ</option>
                            </select>
                            <select id="ticketPriorityFilter" onchange="filterTickets()" class="filter-select-modern"
                                style="flex: 1;">
                                <option value="">ุงูุฃููููุฉ (ุงููู)</option>
                                <option value="high">ุนุงููุฉ</option>
                                <option value="medium">ูุชูุณุทุฉ</option>
                                <option value="low">ููุฎูุถุฉ</option>
                            </select>
                        </div>
                    </div>

                    <div id="supportTicketsTable">
                        <!-- Support tickets table will be loaded here -->
                    </div>
                </div>

                <!-- Wallet Recharge Requests Tab -->
                <div id="wallet_rechargeTab" class="tab-content">
                    <div class="tab-header-modern">
                        <div class="header-main">
                            <h2>ุทูุจุงุช ุดุญู ุฑุตูุฏ ุงููุญูุธุฉ</h2>
                            <p>ุฅุฏุงุฑุฉ ุทูุจุงุช ุดุญู ุงูุฑุตูุฏ ููุนููุงุก</p>
                        </div>
                    </div>

                    <div class="filter-toolbar-modern">
                        <div class="search-box-modern">
                            <i class="fas fa-search"></i>
                            <input type="text" id="walletRechargeSearchInput" placeholder="ุงุจุญุซ ุนู ุนููู..."
                                onkeyup="searchWalletRecharges()">
                        </div>
                        <div class="filter-actions">
                            <select id="walletRechargeStatusFilter" onchange="filterWalletRecharges()"
                                class="filter-select-modern">
                                <option value="all">ูู ุงูุญุงูุงุช</option>
                                <option value="pending">ููุฏ ุงูุงูุชุธุงุฑ</option>
                                <option value="approved">ุชู ุงููุจูู</option>
                                <option value="rejected">ูุฑููุถ</option>
                            </select>
                            <button class="btn-refresh-modern" onclick="loadWalletRechargeRequests()">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                    </div>

                    <div id="walletRechargeGrid" class="admin-domains-grid">
                        <!-- Wallet recharge requests will be loaded here -->
                    </div>
                </div>

                <!-- Hardware Marketplace Tab -->
                <div id="hardware_marketplaceTab" class="tab-content">
                    <div class="tab-header-modern">
                        <div class="header-main">
                            <h2>ุฅุฏุงุฑุฉ ุณูู ุงูุฃุฌูุฒุฉ ุงููุณุชุนููุฉ</h2>
                            <p>ุนุฑุถ ูุฅุฏุงุฑุฉ ุฌููุน ุฅุนูุงูุงุช ุงูุฃุฌูุฒุฉ ุงูููุดูุฑุฉ</p>
                        </div>
                    </div>

                    <div class="filter-toolbar-modern">
                        <div class="search-box-modern">
                            <i class="fas fa-search"></i>
                            <input type="text" id="hardwareMarketplaceSearchInput"
                                placeholder="ุงุจุญุซ ุนู ุฅุนูุงู ุฃู ุจุงุฆุน..." onkeyup="searchHardwareListings()">
                        </div>
                        <div class="filter-actions">
                            <select id="hardwareMarketplaceStatusFilter" onchange="filterHardwareListings()"
                                class="filter-select-modern">
                                <option value="all">ูู ุงูุญุงูุงุช</option>
                                <option value="active">ูุดุท ููุท</option>
                                <option value="expired">ููุชูู ููุท</option>
                            </select>
                            <button class="btn-refresh-modern" onclick="loadHardwareMarketplace()">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                    </div>

                    <div id="hardwareMarketplaceGrid" class="admin-domains-grid"
                        style="display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 1.5rem;">
                        <!-- Hardware marketplace listings will be loaded here -->
                    </div>
                </div>

                <!-- Systems Tab -->
                <div id="systemsTab" class="tab-content">
                    <button class="btn-add-premium" onclick="showAddSystemModal()" style="margin-bottom: 2rem;">
                        <i class="fas fa-plus"></i>
                        ุฅุถุงูุฉ ูุธุงู ุฌุฏูุฏ
                    </button>

                    <div id="systemsManagement">
                        <!-- Systems management will be loaded here -->
                    </div>
                </div>

                <!-- Settings Tab -->
                <div id="settingsTab" class="tab-content">
                    <div class="settings-header" style="margin-bottom: 2.5rem;">
                        <h2 style="color: #1e3a5f; margin-bottom: 0.5rem;">ุฅุนุฏุงุฏุงุช ุงููุธุงู</h2>
                        <p style="color: #64748b;">ุชุญูู ุจุฌููุน ุฌูุงูุจ ุงูููุตุฉ ูู ููุงู ูุงุญุฏ</p>
                    </div>

                    <div class="settings-grid"
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem;">
                        <!-- Branding & General -->
                        <div class="settings-section-modern">
                            <h3
                                style="color: #2c5aa0; margin-bottom: 2rem; border-bottom: 2px solid #f1f5f9; padding-bottom: 1rem;">
                                <i class="fas fa-bullhorn"></i> ุงููููุฉ ูุงููุนูููุงุช
                            </h3>
                            <div class="form-group" style="margin-bottom: 1.5rem;">
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 700;">ุงุณู
                                    ุงููููุน</label>
                                <input type="text" id="siteNameInput" class="form-control"
                                    style="width: 100%; padding: 0.8rem; border: 2px solid #e2e8f0; border-radius: 10px;"
                                    value="AS3G SYSTEM">
                            </div>
                            <div class="form-group" style="margin-bottom: 2rem;">
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 700;">ุจุฑูุฏ
                                    ุงูุชูุงุตู</label>
                                <input type="email" id="siteEmailInput" class="form-control"
                                    style="width: 100%; padding: 0.8rem; border: 2px solid #e2e8f0; border-radius: 10px;"
                                    value="info@as3g.com">
                            </div>
                            <button class="btn-primary" onclick="saveGeneralSettings()" style="width: 100%;">
                                <i class="fas fa-save"></i> ุญูุธ ุงูุชุบููุฑุงุช ุงูุฃุณุงุณูุฉ
                            </button>
                        </div>

                        <!-- Appearance & Localization -->
                        <div class="settings-section-modern">
                            <h3
                                style="color: #2c5aa0; margin-bottom: 2rem; border-bottom: 2px solid #f1f5f9; padding-bottom: 1rem;">
                                <i class="fas fa-paint-brush"></i> ุงููุธูุฑ ูุงููุบุฉ
                            </h3>
                            <div style="margin-bottom: 2rem;">
                                <label style="display: block; margin-bottom: 1rem; font-weight: 700;">ุงููุถุน
                                    ุงููุธูู</label>
                                <div class="theme-switch-container">
                                    <button class="theme-btn-modern active" id="themeLightBtn"
                                        onclick="quickChangeTheme('light')">
                                        <i class="fas fa-sun"></i> ูุงุชุญ
                                    </button>
                                    <button class="theme-btn-modern" id="themeDarkBtn"
                                        onclick="quickChangeTheme('dark')">
                                        <i class="fas fa-moon"></i> ุฏุงูู
                                    </button>
                                </div>
                            </div>
                            <div style="margin-bottom: 2rem;">
                                <label style="display: block; margin-bottom: 1rem; font-weight: 700;">ูุบุฉ
                                    ุงููุงุฌูุฉ</label>
                                <div class="theme-switch-container">
                                    <button class="theme-btn-modern active" id="langArBtn"
                                        onclick="quickChangeLanguage('ar')">๐ธ๐ฆ ุจุงูุนุฑุจู</button>
                                    <button class="theme-btn-modern" id="langEnBtn"
                                        onclick="quickChangeLanguage('en')">๐บ๐ธ English</button>
                                </div>
                            </div>
                        </div>

                        <!-- Maintenance & Security -->
                        <div class="settings-section-modern">
                            <h3
                                style="color: #2c5aa0; margin-bottom: 2rem; border-bottom: 2px solid #f1f5f9; padding-bottom: 1rem;">
                                <i class="fas fa-shield-alt"></i> ุงูุตูุงูุฉ ูุงูุฃูุงู
                            </h3>
                            <div
                                style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; background: #fff5f5; padding: 1rem; border-radius: 12px;">
                                <div>
                                    <h4 style="margin: 0; color: #c53030;">ูุถุน ุงูุตูุงูุฉ</h4>
                                    <p style="margin: 0; font-size: 0.85rem; color: #666;">ุฅููุงู ุงููููุน ูุคูุชุงู
                                        ูููุณุชุฎุฏููู</p>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" id="maintenanceToggle"
                                        onchange="toggleMaintenanceMode(this.checked)">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <button class="btn-secondary" onclick="showAdminsList()"
                                style="width: 100%; margin-bottom: 1rem;">
                                <i class="fas fa-users-cog"></i> ุฅุฏุงุฑุฉ ูุฑูู ุงูุนูู
                            </button>
                            <button class="btn-secondary" onclick="showPermissionsMatrix()" style="width: 100%;">
                                <i class="fas fa-table"></i> ูุตูููุฉ ุงูุตูุงุญูุงุช
                            </button>
                        </div>

                        <!-- Advanced Security -->
                        <div class="settings-section-modern">
                            <h3
                                style="color: #2c5aa0; margin-bottom: 2rem; border-bottom: 2px solid #f1f5f9; padding-bottom: 1rem;">
                                <i class="fas fa-user-shield"></i> ุงูุฃูุงู ุงููุชูุฏู
                            </h3>

                            <!-- IP Whitelist -->
                            <div style="margin-bottom: 2rem; border-bottom: 1px solid #f1f5f9; padding-bottom: 1.5rem;">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <div>
                                        <h4 style="margin: 0; font-size: 1rem; color: #1e293b;">ุงููุงุฆูุฉ ุงูุจูุถุงุก (IP
                                            Whitelist)</h4>
                                        <p style="margin: 0; font-size: 0.85rem; color: #64748b;">ุงูุณูุงุญ ุจุงูุฏุฎูู ููุท ูู
                                            ุนูุงููู IP ูุญุฏุฏุฉ</p>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox"
                                            onchange="toggleSecuritySetting(this, 'ipWhitelistEnabled')"
                                            id="ipWhitelistToggle">
                                        <span class="slider"></span>
                                    </label>
                                </div>

                                <div id="ipWhitelistSection"
                                    style="display: none; background: #f8f9fa; padding: 1.5rem; border-radius: 12px; margin-top: 1rem;">
                                    <div style="display: flex; gap: 0.8rem; margin-bottom: 1rem;">
                                        <input type="text" id="newIpInput"
                                            placeholder="ุฃุฏุฎู ุนููุงู IP (ูุซุงู: 192.168.1.1)" class="form-control"
                                            style="flex: 1; padding: 0.8rem; border: 2px solid #e2e8f0; border-radius: 8px;">
                                        <button onclick="addIpToWhitelist()" class="btn-primary"
                                            style="padding: 0 1.5rem; font-size: 0.9rem;">ุฅุถุงูุฉ</button>
                                        <button onclick="addCurrentIp()" class="btn-success"
                                            style="padding: 0 1rem; font-size: 0.9rem;" title="ูุดู ุนููุงูู"><i
                                                class="fas fa-map-marker-alt"></i></button>
                                    </div>
                                    <div id="ipList" style="display: flex; flex-wrap: wrap; gap: 0.5rem;"></div>
                                </div>
                            </div>

                            <!-- Password Rotation -->
                            <div
                                style="margin-bottom: 1.5rem; border-bottom: 1px solid #f1f5f9; padding-bottom: 1.5rem;">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <div>
                                        <h4 style="margin: 0; font-size: 1rem; color: #1e293b;">ุณูุงุณุฉ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ
                                        </h4>
                                        <p style="margin: 0; font-size: 0.85rem; color: #64748b;">ุฅุฌุจุงุฑ ุงููุณุชุฎุฏููู ุนูู
                                            ุชุบููุฑ ูููุฉ ุงููุฑูุฑ ุฏูุฑูุงู</p>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox"
                                            onchange="toggleSecuritySetting(this, 'passwordRotationEnabled')"
                                            id="passwordRotationToggle">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                <div id="passwordRotationSection" style="display: none; padding-top: 1rem;">
                                    <div
                                        style="display: flex; align-items: center; gap: 1rem; background: #f8f9fa; padding: 1rem; border-radius: 8px;">
                                        <span style="font-weight: 600;">ูุฑุถ ุงูุชุบููุฑ ูู:</span>
                                        <input type="number" id="passwordRotationDays" value="90" min="30"
                                            style="width: 100px; padding: 0.6rem; border: 2px solid #e2e8f0; border-radius: 8px;"
                                            onchange="updateSecuritySetting('passwordRotationDays', this.value)">
                                        <span style="color: #64748b;">ููู</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Device Verification -->
                            <div>
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <h4 style="margin: 0; font-size: 1rem; color: #1e293b;">ุงูุชุญูู ูู ุงูุฃุฌูุฒุฉ
                                            ุงูุฌุฏูุฏุฉ</h4>
                                        <p style="margin: 0; font-size: 0.85rem; color: #64748b;">ุทูุจ ููุฏ ุชุญูู ุนุจุฑ
                                            ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู ูู ุฌูุงุฒ ุฌุฏูุฏ</p>
                                    </div>
                                    <label class="switch">
                                        <input type="checkbox" id="deviceVerificationToggle"
                                            onchange="toggleSecuritySetting(this, 'deviceVerificationEnabled')">
                                        <span class="slider"></span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <!-- Payment Settings -->
                        <div class="settings-section-modern">
                            <h3
                                style="color: #2c5aa0; margin-bottom: 2rem; border-bottom: 2px solid #f1f5f9; padding-bottom: 1rem;">
                                <i class="fas fa-wallet"></i> ุฅุนุฏุงุฏุงุช ุงูุฏูุน
                            </h3>
                            <div class="form-group" style="margin-bottom: 2rem;">
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 700;">ุฑูู ููุฏุงููู
                                    ูุงุด</label>
                                <input type="text" id="vodafoneCashInput" class="form-control"
                                    style="width: 100%; padding: 0.8rem; border: 2px solid #e2e8f0; border-radius: 10px;"
                                    placeholder="ูุซุงู: 01012345678">
                            </div>
                            <button class="btn-primary" onclick="savePaymentSettings()"
                                style="width: 100%; background: #e60000;">
                                <i class="fas fa-save"></i> ุญูุธ ุฑูู ุงููุงุด
                            </button>
                        </div>

                        <!-- Data Tools -->
                        <div class="settings-section-modern">
                            <h3
                                style="color: #2c5aa0; margin-bottom: 2rem; border-bottom: 2px solid #f1f5f9; padding-bottom: 1rem;">
                                <i class="fas fa-database"></i> ุฃุฏูุงุช ุงูุจูุงูุงุช
                            </h3>
                            <div style="display: grid; gap: 1rem;">
                                <button class="btn-primary" onclick="quickBackup()" style="background: #28a745;">
                                    <i class="fas fa-file-export"></i> ุชุตุฏูุฑ ูุณุฎุฉ ุงุญุชูุงุทูุฉ (JSON)
                                </button>
                                <button class="btn-primary" onclick="document.getElementById('quickImportFile').click()"
                                    style="background: #17a2b8;">
                                    <i class="fas fa-file-import"></i> ุงุณุชูุฑุงุฏ ุจูุงูุงุช ูู ููู
                                </button>
                                <input type="file" id="quickImportFile" accept=".json" style="display: none;"
                                    onchange="quickImport(this)">
                                <button class="btn-secondary" onclick="refreshQuickStats()"
                                    style="border: 2px dashed #cbd5e1;">
                                    <i class="fas fa-sync-alt"></i> ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุฅุญุตุงุฆูุงุช
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Products Tab -->
                <div id="productsTab" class="tab-content">
                    <div class="tab-header-modern"
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2.5rem; background: #f8f9fa; padding: 1.5rem; border-radius: 15px; flex-wrap: wrap; gap: 1rem;">
                        <div>
                            <h2 style="color: #1e3a5f; margin: 0 0 0.5rem 0;">ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช ุงููุญุชุฑูุฉ</h2>
                            <p style="color: #64748b; margin: 0;">ุชุญูู ูู ุจุงูุงุชู ูุงูุฎุฏูุงุช ุงููุนุฑูุถุฉ ูู ูุงุฌูุฉ ุงููููุน</p>
                        </div>
                        <button class="btn-add-premium" onclick="showAddProductModal()">
                            <i class="fas fa-plus"></i> ุฅุถุงูุฉ ุจุงูุฉ/ููุชุฌ ุฌุฏูุฏ
                        </button>
                    </div>

                    <div class="filter-toolbar-modern"
                        style="display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap;">
                        <div style="flex: 2; min-width: 250px; position: relative;">
                            <i class="fas fa-search"
                                style="position: absolute; right: 1rem; top: 50%; transform: translateY(-50%); color: #94a3b8;"></i>
                            <input type="text" placeholder="ุงุจุญุซ ุนู ููุชุฌ..." onkeyup="searchProducts(this.value)"
                                style="width: 100%; padding: 0.8rem 2.8rem 0.8rem 1rem; border: 2px solid #e2e8f0; border-radius: 12px; font-size: 1rem;">
                        </div>
                        <select onchange="filterProducts('category', this.value)"
                            style="flex: 1; min-width: 150px; padding: 0.8rem; border: 2px solid #e2e8f0; border-radius: 12px; background: white; font-weight: 600;">
                            <option value="">ุฌููุน ุงููุฆุงุช</option>
                            <option value="basic">ุจุงูุฉ ุฃุณุงุณูุฉ</option>
                            <option value="advanced">ุจุงูุฉ ูุชูุฏูุฉ</option>
                            <option value="professional">ุจุงูุฉ ุงุญุชุฑุงููุฉ</option>
                        </select>
                        <select onchange="filterProducts('status', this.value)"
                            style="flex: 1; min-width: 150px; padding: 0.8rem; border: 2px solid #e2e8f0; border-radius: 12px; background: white; font-weight: 600;">
                            <option value="">ุฌููุน ุงูุญุงูุงุช</option>
                            <option value="active">ูุดุท ููุท</option>
                            <option value="inactive">ูุฎูู ููุท</option>
                        </select>
                        <button class="btn-secondary" onclick="resetProductFilters()" style="padding: 0.8rem 1.5rem;">
                            <i class="fas fa-undo"></i> ุชุตููุฉ
                        </button>
                    </div>

                    <div id="productsContainer" class="products-grid">
                        <!-- Modern product cards will be loaded here -->
                    </div>
                </div>

                <!-- FAQ Tab -->
                <div id="faqTab" class="tab-content">
                    <div style="display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap;">
                        <button class="btn-add-premium" onclick="showAddFAQModal()">
                            <i class="fas fa-plus"></i>
                            ุฅุถุงูุฉ ุณุคุงู ุฌุฏูุฏ
                        </button>
                        <button class="btn-primary" onclick="loadFAQCategories()" style="background: #28a745;">
                            <i class="fas fa-sync"></i>
                            ุชุญุฏูุซ ุงููุงุฆูุฉ
                        </button>
                    </div>

                    <div class="filter-section">
                        <div class="filter-item">
                            <label>ุงููุฆุฉ</label>
                            <select id="faqCategoryFilter" onchange="filterFAQs()">
                                <option value="">ุฌููุน ุงููุฆุงุช</option>
                                <option value="technical">ุงูุฃุณุฆูุฉ ุงูุชูููุฉ</option>
                                <option value="pricing">ุฃุณุฆูุฉ ุงูุฃุณุนุงุฑ</option>
                                <option value="support">ุฃุณุฆูุฉ ุงูุฏุนู ุงูููู</option>
                            </select>
                        </div>
                        <div class="filter-item">
                            <label>ุงูุจุญุซ</label>
                            <input type="text" id="faqSearchInput" placeholder="ุงูุจุญุซ ูู ุงูุฃุณุฆูุฉ..."
                                onkeyup="searchFAQs()">
                        </div>
                    </div>

                    <div id="faqManagement">
                        <!-- FAQ management will be loaded here -->
                    </div>
                </div>

                <!-- Reports Tab -->
                <div id="reportsTab" class="tab-content">
                    <div class="tab-header-modern">
                        <div class="header-main">
                            <h2>ูุฑูุฒ ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช</h2>
                            <p>ุชุญููู ุดุงูู ูุฃุฏุงุก ุงููุธุงู ูุงูุทูุจุงุช ูุงููุณุชุฎุฏููู</p>
                        </div>
                        <button class="btn-refresh-modern" onclick="loadReportsData()">
                            <i class="fas fa-sync-alt"></i> ุชุญุฏูุซ ุงูุชูุงุฑูุฑ
                        </button>
                    </div>

                    <!-- Statistics Overview Cards -->
                    <div class="reports-stats-grid">
                        <div class="report-stat-card primary">
                            <div class="card-header">
                                <div class="card-icon"><i class="fas fa-shopping-bag"></i></div>
                                <span class="card-trend up"><i class="fas fa-arrow-up"></i> ูุดุท</span>
                            </div>
                            <div class="card-info">
                                <span class="card-label">ุฅุฌูุงูู ุงูุทูุจุงุช</span>
                                <h3 id="totalOrdersStat">0</h3>
                            </div>
                        </div>
                        <div class="report-stat-card success">
                            <div class="card-header">
                                <div class="card-icon"><i class="fas fa-dollar-sign"></i></div>
                                <span class="card-trend up"><i class="fas fa-check-circle"></i> ููุชูู</span>
                            </div>
                            <div class="card-info">
                                <span class="card-label">ุฅุฌูุงูู ุงููุจูุนุงุช</span>
                                <h3 id="totalRevenueStat">0 ุฌ.ู</h3>
                            </div>
                        </div>
                        <div class="report-stat-card warning">
                            <div class="card-header">
                                <div class="card-icon"><i class="fas fa-globe"></i></div>
                                <span class="card-trend"><i class="fas fa-clock"></i> ูุนูู</span>
                            </div>
                            <div class="card-info">
                                <span class="card-label">ุทูุจุงุช ุงููุทุงูุงุช</span>
                                <h3 id="totalDomainRequestsStat">0</h3>
                            </div>
                        </div>
                        <div class="report-stat-card info">
                            <div class="card-header">
                                <div class="card-icon"><i class="fas fa-users"></i></div>
                                <span class="card-trend"><i class="fas fa-user-plus"></i> ููู</span>
                            </div>
                            <div class="card-info">
                                <span class="card-label">ุงููุณุชุฎุฏููู</span>
                                <h3 id="totalUsersStat">0</h3>
                            </div>
                        </div>
                    </div>

                    <!-- Charts and Details Section -->
                    <div class="reports-visual-grid">
                        <div class="report-chart-box">
                            <div class="box-header">
                                <h3>ุชูุฒูุน ุญุงูุงุช ุงูุทูุจุงุช</h3>
                                <i class="fas fa-chart-pie"></i>
                            </div>
                            <div class="chart-content">
                                <canvas id="orderStatusChart"></canvas>
                            </div>
                        </div>
                        <div class="report-chart-box">
                            <div class="box-header">
                                <h3>ูุดุงุท ุงูุฏุนู ุงูููู</h3>
                                <i class="fas fa-headset"></i>
                            </div>
                            <div class="chart-content">
                                <div class="support-stats-mini">
                                    <div class="mini-stat">
                                        <span>ุชุฐุงูุฑ ููุชูุญุฉ</span>
                                        <div class="progress-bar">
                                            <div id="openTicketsProgress" style="width: 0%"></div>
                                        </div>
                                        <b id="openTicketsCount">0</b>
                                    </div>
                                    <div class="mini-stat">
                                        <span>ุชู ุงูุญู</span>
                                        <div class="progress-bar success">
                                            <div id="resolvedTicketsProgress" style="width: 0%"></div>
                                        </div>
                                        <b id="resolvedTicketsCount">0</b>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Coupons Tab -->
                <div id="couponsTab" class="tab-content">
                    <button class="btn-primary" onclick="showAddCouponModal()" style="margin-bottom: 2rem;">
                        <i class="fas fa-plus"></i>
                        ุฅุถุงูุฉ ููุจูู ุฌุฏูุฏ
                    </button>
                    <div id="couponsContainer">
                        <!-- Coupons table will be loaded here -->
                    </div>
                </div>

                <!-- CMS Tab -->
                <div id="cmsTab" class="tab-content">
                    <div class="cms-section" style="margin-bottom: 2rem;">
                        <h3>ุฅุฏุงุฑุฉ ุขุฑุงุก ุงูุนููุงุก</h3>
                        <button class="btn-primary" onclick="showAddTestimonialModal()" style="margin-bottom: 1rem;">
                            <i class="fas fa-plus"></i> ุฅุถุงูุฉ ุฑุฃู ุฌุฏูุฏ
                        </button>
                        <div id="testimonialsContainer"></div>
                    </div>
                </div>



                <!-- Live Payments Tab -->
                <div id="live_paymentsTab" class="tab-content">
                    <div class="live-payments-dashboard">
                        <div class="live-payments-header">
                            <div class="header-main">
                                <h2>
                                    <div class="pulse-icon"><i class="fas fa-satellite-dish"></i></div>
                                    ูุฑุงูุจุฉ ุงููุฏููุนุงุช ุงูุญูุฉ (SMS)
                                </h2>
                                <p>ุฑุตุฏ ุชููุงุฆู ูุฑุณุงุฆู ุงูุชุญููู ุงููุงุฑุฏุฉ ูู ุงููุญุงูุธ ุงูุฅููุชุฑูููุฉ</p>
                            </div>

                            <div class="header-actions">
                                <div class="sound-toggle-box"
                                    style="background: white; padding: 0.5rem 1rem; border-radius: 12px; border: 1px solid #e2e8f0; display: flex; align-items: center; gap: 0.8rem;">
                                    <span style="font-size: 0.85rem; color: #64748b; font-weight: 600;">ุชูุจูู
                                        ุตูุชู</span>
                                    <label class="switch" style="transform: scale(0.8);">
                                        <input type="checkbox" id="paymentSoundToggle" checked>
                                        <span class="slider"></span>
                                    </label>
                                </div>
                                <button class="btn-refresh-modern" onclick="loadIncomingPayments()">
                                    <i class="fas fa-sync-alt"></i>
                                    <span>ุชุญุฏูุซ ูุฏูู</span>
                                </button>
                            </div>
                        </div>

                        <!-- Quick Stats Row -->
                        <div class="stats-row">
                            <div class="stat-card-mini">
                                <div class="stat-icon" style="background: #ecfdf5; color: #10b981;">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                                <div class="stat-info">
                                    <span>ุฅุฌูุงูู ุงูููู</span>
                                    <strong id="todayPaymentTotal">0 ุฌ.ู</strong>
                                </div>
                            </div>

                            <div class="stat-card-mini">
                                <div class="stat-icon" style="background: #fffbeb; color: #f59e0b;">
                                    <i class="fas fa-hourglass-half"></i>
                                </div>
                                <div class="stat-info">
                                    <span>ุจุงูุชุธุงุฑ ุงูุฑุจุท</span>
                                    <strong id="pendingPaymentCount">0 ุฑุณุงูุฉ</strong>
                                </div>
                            </div>

                            <div class="stat-card-mini">
                                <div class="stat-icon" style="background: #f0fdf4; color: #22c55e;">
                                    <i class="fas fa-check-double"></i>
                                </div>
                                <div class="stat-info">
                                    <span>ุชูุช ูุนุงูุฌุชูุง ุงูููู</span>
                                    <strong id="matchedPaymentCount">0</strong>
                                </div>
                            </div>

                            <div class="search-container-mini">
                                <div class="search-box-live">
                                    <i class="fas fa-search"></i>
                                    <input type="text" id="livePaymentSearch" placeholder="ุจุญุซ ุณุฑูุน ูู ุงูุฑุณุงุฆู..."
                                        onkeyup="searchIncomingPayments()">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="livePaymentsGrid" class="domain-requests-grid">
                        <!-- ุณูุชู ุชุญููู ุฑุณุงุฆู ุงูุฏูุน ููุง -->
                    </div>
                </div>



                <!-- Search Results Tab -->
                <div id="searchResultsTab" class="tab-content">
                    <div class="tab-header-modern">
                        <div class="header-main">
                            <h2 id="searchQueryTitle">ูุชุงุฆุฌ ุงูุจุญุซ</h2>
                            <p id="searchCountSub">ุงุจุญุซ ุนู ุฃู ุดูุก ูู ุงููุธุงู</p>
                        </div>
                    </div>

                    <div class="search-results-container" id="globalSearchResults">
                        <div class="empty-search-state">
                            <i class="fas fa-search-plus"></i>
                            <p>ุงุจุฏุฃ ุงููุชุงุจุฉ ูู ุฎุงูุฉ ุงูุจุญุซ ุงูุนูููุฉ ููุจุญุซ ูู ุงููุธุงู</p>
                        </div>
                    </div>
                </div>

                <!-- Support Activity Tab -->
                <!-- Support Activity Tab -->
                <div id="support_activityTab" class="tab-content">
                    <div class="tab-header-modern"
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; background: #f8f9fa; padding: 1.5rem; border-radius: 15px;">
                        <div>
                            <h2 style="color: #1e3a5f; margin: 0 0 0.5rem 0;">ูุดุงุท ูุฑูู ุงูุฏุนู ุงูููู</h2>
                            <p style="color: #64748b; margin: 0;">ููุญุฉ ูุชุงุจุนุฉ ุฃุฏุงุก ูุฅูุชุงุฌูุฉ ูุฑูู ุงูุฏุนู ูุญุธุฉ ุจูุญุธุฉ</p>
                        </div>
                        <div style="display: flex; gap: 0.5rem;">
                            <button class="btn-secondary" onclick="exportSupportActivity()"
                                style="background: #10b981; color: white; border: none;">
                                <i class="fas fa-file-excel"></i> ุชุตุฏูุฑ ุชูุฑูุฑ
                            </button>
                            <button class="btn-secondary" onclick="loadSupportActivity()">
                                <i class="fas fa-sync-alt"></i> ุชุญุฏูุซ
                            </button>
                        </div>
                    </div>

                    <!-- New: Performance KPIs -->
                    <div class="activity-kpi-grid"
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
                        <div class="kpi-card"
                            style="background: white; padding: 1.5rem; border-radius: 12px; border: 1px solid #e2e8f0; display: flex; align-items: center; gap: 1rem;">
                            <div
                                style="width: 50px; height: 50px; border-radius: 10px; background: #eff6ff; color: #3b82f6; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">
                                <i class="fas fa-comment-dots"></i>
                            </div>
                            <div>
                                <h3 style="margin: 0; font-size: 1.8rem; color: #1e293b;" id="todayRepliesCount">0</h3>
                                <p style="margin: 0; color: #64748b; font-size: 0.9rem;">ุฑุฏูุฏ ุงูููู</p>
                            </div>
                        </div>

                        <div class="kpi-card"
                            style="background: white; padding: 1.5rem; border-radius: 12px; border: 1px solid #e2e8f0; display: flex; align-items: center; gap: 1rem;">
                            <div
                                style="width: 50px; height: 50px; border-radius: 10px; background: #f0fdf4; color: #10b981; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <div>
                                <h3 style="margin: 0; font-size: 1rem; color: #1e293b;" id="topPerformerName">-</h3>
                                <p style="margin: 0; color: #64748b; font-size: 0.9rem;">ุงูุฃูุซุฑ ูุดุงุทุงู ุงูููู</p>
                            </div>
                        </div>

                        <div class="kpi-card"
                            style="background: white; padding: 1.5rem; border-radius: 12px; border: 1px solid #e2e8f0; display: flex; align-items: center; gap: 1rem;">
                            <div
                                style="width: 50px; height: 50px; border-radius: 10px; background: #fff7ed; color: #f97316; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div>
                                <h3 style="margin: 0; font-size: 1.8rem; color: #1e293b;">ุงููุดุงุท</h3>
                                <p style="margin: 0; color: #64748b; font-size: 0.9rem;">ุชูุฒูุน ุงูุฃุฏุงุก</p>
                            </div>
                        </div>
                    </div>

                    <!-- New: Activity Chart -->
                    <div class="chart-section"
                        style="background: white; padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem; border: 1px solid #e2e8f0;">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 style="margin: 0; color: #1e3a5f; font-size: 1.1rem;">๐ ูุดุงุท ุงูุฏุนู ุฎูุงู ุงูููู (ุชูุฒูุน
                                ุจุงูุณุงุนุงุช)</h3>
                        </div>
                        <div style="height: 300px; width: 100%;">
                            <canvas id="supportActivityChart"></canvas>
                        </div>
                    </div>

                    <!-- Filters -->
                    <div class="filter-toolbar-modern"
                        style="display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap;">
                        <div style="flex: 2; min-width: 250px; position: relative;">
                            <i class="fas fa-search"
                                style="position: absolute; right: 1rem; top: 50%; transform: translateY(-50%); color: #94a3b8;"></i>
                            <input type="text" id="activitySearchInput" placeholder="ุงุจุญุซ ูู ุงููุดุงุท..."
                                onkeyup="filterSupportActivity()"
                                style="width: 100%; padding: 0.8rem 2.8rem 0.8rem 1rem; border: 2px solid #e2e8f0; border-radius: 12px; font-size: 1rem;">
                        </div>
                        <select id="activityAdminFilter" onchange="filterSupportActivity()"
                            style="flex: 1; min-width: 150px; padding: 0.8rem; border: 2px solid #e2e8f0; border-radius: 12px; background: white; font-weight: 600;">
                            <option value="">ุฌููุน ุงูุฃุนุถุงุก</option>
                        </select>
                        <select id="activityDateFilter" onchange="filterSupportActivity()"
                            style="flex: 1; min-width: 150px; padding: 0.8rem; border: 2px solid #e2e8f0; border-radius: 12px; background: white; font-weight: 600;">
                            <option value="all">ูู ุงููุชุฑุงุช</option>
                            <option value="today">ุงูููู</option>
                            <option value="week">ูุฐุง ุงูุฃุณุจูุน</option>
                            <option value="month">ูุฐุง ุงูุดูุฑ</option>
                        </select>
                    </div>

                    <!-- Activity Table -->
                    <div class="data-card-modern">
                        <div id="supportActivityContainer">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Logs Tab -->
                <div id="logsTab" class="tab-content">
                    <div class="filter-section">
                        <div class="filter-item">
                            <label>ููุน ุงููุดุงุท</label>
                            <select id="logTypeFilter" onchange="filterLogs()">
                                <option value="">ุงููู</option>
                                <option value="auth">ุชุณุฌูู ุฏุฎูู/ุฎุฑูุฌ</option>
                                <option value="order">ุทูุจุงุช</option>
                                <option value="system">ูุธุงู</option>
                            </select>
                        </div>
                    </div>
                    <div id="logsContainer">
                        <!-- Logs table will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Add Coupon Modal -->
    <div id="addCouponModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>ุฅุถุงูุฉ ููุจูู ุฌุฏูุฏ</h2>
            <form id="addCouponForm">
                <div class="form-group">
                    <label>ุฑูุฒ ุงูููุจูู *</label>
                    <input type="text" name="code" required placeholder="ูุซุงู: SAVE20">
                </div>
                <div class="form-group">
                    <label>ูููุฉ ุงูุฎุตู *</label>
                    <input type="number" name="discount" required>
                </div>
                <div class="form-group">
                    <label>ููุน ุงูุฎุตู *</label>
                    <select name="type">
                        <option value="percent">ูุณุจุฉ ูุฆููุฉ (%)</option>
                        <option value="fixed">ูุจูุบ ุซุงุจุช</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>ุชุงุฑูุฎ ุงูุงูุชูุงุก *</label>
                    <input type="date" name="expiry" required>
                </div>
                <div class="form-group">
                    <label>ุงูุญุงูุฉ</label>
                    <select name="status">
                        <option value="active">ูุดุท</option>
                        <option value="inactive">ุบูุฑ ูุดุท</option>
                    </select>
                </div>
                <button type="submit" class="btn-primary" style="width: 100%;">ุญูุธ ุงูููุจูู</button>
            </form>
        </div>
    </div>

    <!-- Add Testimonial Modal -->
    <div id="addTestimonialModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>ุฅุถุงูุฉ ุฑุฃู ุนููู</h2>
            <form id="addTestimonialForm">
                <div class="form-group">
                    <label>ุงุณู ุงูุนููู *</label>
                    <input type="text" name="clientName" required>
                </div>
                <div class="form-group">
                    <label>ุงูููุตุจ / ุงูุดุฑูุฉ</label>
                    <input type="text" name="clientRole">
                </div>
                <div class="form-group">
                    <label>ูุต ุงูุฑุฃู *</label>
                    <textarea name="content" rows="4" required></textarea>
                </div>
                <button type="submit" class="btn-primary" style="width: 100%;">ุญูุธ ุงูุฑุฃู</button>
            </form>
        </div>
    </div>

    <!-- Audio for notifications -->
    <audio id="notificationSound" preload="auto">
        <source src="notification.mp3" type="audio/mpeg">
    </audio>

    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

    <!-- EmailJS (Add your keys here from https://dashboard.emailjs.com/) -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function () {
            // ูู ุจูุถุน PUBLIC_KEY ุงูุฎุงุต ุจู ููุง ููู ูุนูู ุงูุฅุฑุณุงู ุงููุนูู
            emailjs.init("rxEUCMR5BUJNKDeEe");
        })();
    </script>

    <!-- Custom Scripts -->
    <script src="firebase-config.js"></script>
    <script src="firebase-init.js"></script>
    <script src="admin-permissions.js"></script>
    <script src="social-media-manager.js"></script>

    <!-- Chat Widget -->
    <button id="chatWidgetBtn" class="chat-widget-btn">
        <i class="fas fa-comments"></i>
        <span id="chatNotificationBadge" class="chat-notification-badge" style="display: none;">0</span>
    </button>

    <div id="chatWidgetWindow" class="chat-widget-window">
        <!-- Header -->
        <div class="chat-header">
            <div class="chat-header-info">
                <h4>ุงูุฏุนู ุงูููู ุงููุจุงุดุฑ</h4>
                <p><span class="status-dot"></span> ูุชูุงุฌุฏูู ุงูุขู</p>
            </div>
            <div class="chat-header-actions">
                <button id="closeChatBtn"><i class="fas fa-times"></i></button>
            </div>
        </div>

        <!-- Body -->
        <div id="chatMessages" class="chat-body">
            <div class="chat-message support-message">
                <div class="message-content">ูุฑุญุจุงู! ูุนู ูุฑูู ุงูุฏุนู ุงูููู. ููู ูููููุง ูุณุงุนุฏุชู ุงููููุ</div>
                <div class="message-time">ุงูุขู</div>
            </div>
        </div>

        <!-- Footer -->
        <div class="chat-footer">
            <input type="text" id="chatMessageInput" class="chat-input" placeholder="ุงูุชุจ ุฑุณุงูุชู ููุง...">
            <button id="sendMessageBtn" class="send-btn">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <script src="settings.js"></script>
    <script src="admin.js"></script>
    <script src="admin-chat.js"></script>
</body>

</html>